(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{111:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(19),o=n.n(s),i=(n(98),n(99),n(14)),l=n.n(i),c=n(29),u=n(74),g=n(75),h=n(90),m=n(87),_=n(44),p=n.n(_),d=(n(108),n(109),n(110),n(111),n(45)),f=n.n(d),w=n(22),E=n(10),v=n(16),b=n(30),x=n(31),k=(n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(91)),S=n(83),y=n(76),C=n.n(y),z=n(39),T=n.n(z),H=n(15),B=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={html:"",css:"",generated_css:[],selected_css:{},sample_count:1,showing_settings:!1,showing_full_preview:!1,showing_generated_css:!1,showing_css_options:!1,showing_options_warning:!1,showing_connection_problem:!1,waiting_for_api:!1,editor_settings:{col_size:6,height:40,font_size:12,theme:{themes:["github","tomorrow_night","crimson_editor","solarized_dark","xcode","chaos"],selected_theme:0}}},e.generate_test_html=function(){e.setState({html:"<h1 class='test-h1'>Test header 1</h1>\n<div class='test-d1'>Test Div 1</div>\n<p class='test-p1'>Test Paragraph 1</p>\n"})},e.update_css_count=function(t){return e.setState({sample_count:t})},e.toggle_settings=function(){return e.setState({showing_settings:!e.state.showing_settings})},e.toggle_full_preview=function(){return e.setState({showing_full_preview:!e.state.showing_full_preview})},e.toggle_warning_message=function(){return e.setState({showing_options_warning:!e.state.showing_options_warning})},e.toggle_css_options=function(){var t=!e.state.showing_css_options,n=e.state.css,a=e.state.showing_options_warning;!1===t&&(a=!0),""===n&&(a=!1),e.setState({showing_css_options:t,showing_options_warning:a})},e.change_editor_width=function(t){var n=e.state.editor_settings,a=n.col_size;"+"===t&&a<12?n.col_size=a+1:"-"===t&&a>1&&(n.col_size=a-1),n.col_size!==a&&e.setState({editor_settings:n})},e.change_editor_height=function(t){var n=e.state.editor_settings,a=n.height;"+"===t?n.height=a+2.5:"-"===t&&a>2.5&&(n.height=a-2.5),n.width!==a&&e.setState({editor_settings:n})},e.change_editor_theme=function(t){var n=e.state.editor_settings,a=n.theme.selected_theme;"<"===t&&a>0?n.theme.selected_theme=a-1:">"===t&&a<n.theme.themes.length-1&&(n.theme.selected_theme=a+1),a!==n.theme.selected_theme&&e.setState({editor_settings:n})},e.change_editor_font=function(t){var n=e.state.editor_settings,a=n.font_size;"+"===t?n.font_size=a+1:"-"===t&&a>1&&(n.font_size=a-1),n.font_size!==a&&e.setState({editor_settings:n})},e.select_css=function(t){var n=t.split("{")[0],a=e.state.selected_css,r=e.state.css,s=e.state.showing_options_warning,o="";for(t in a[n]===t?delete a[n]:a[n]=t,a)o+=a[t]+"\n";s&&""===r&&(s=!s),e.setState({selected_css:a,css:o,showing_options_warning:s})},e}return Object(g.a)(n,[{key:"get_html_elements",value:function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,f()({method:"post",url:"/get_html_elements/",data:{html:t}}).then((function(e){n=e.data.elements,a.setState({showing_connection_problem:!1})})).catch((function(){return a.setState({showing_connection_problem:!0,waiting_for_api:!1})}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"generate_css",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_html_elements(this.state.html);case 2:if(t=e.sent,console.log(t),this.state.showing_connection_problem){e.next=7;break}return e.delegateYield(l.a.mark((function e(){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.sample_count,(r=n.state.generated_css).length>0&&(r=[]),e.t0=l.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=12;break}if(s=e.t1.value,n.setState({waiting_for_api:!0}),!t.hasOwnProperty(s)){e.next=10;break}return e.next=10,f.a.post("/generate_css/",{element:t[s],element_class:s,sample_count:a}).then((function(e){var t=e.data.results;r.push(t),n.setState({generated_css:r,showing_css_options:!0,waiting_for_api:!1,showing_connection_problem:!1})})).catch((function(){return n.setState({showing_connection_problem:!0,waiting_for_api:!1})}));case 10:e.next=4;break;case 12:case"end":return e.stop()}}),e)}))(),"t0",7);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wait",value:function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"generate_test_css",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[[".test-h1{\ncolor: rgb(176,156,10);\nfont-size: 15px;\nletter-spacing: 1px;\ntext-transform: uppercase;\nmargin-top: 20px;\n}",".test-h1{\nfont-size: 21px;\ncolor: red;\ntext-align: center;\npadding-top: 10px;\npadding-bottom: 10px;\n}",".test-h1{\nfont:26px tahoma, Arial;\ncolor:rgb(0,172,218);\nfont-weight:bold;\nmargin:0px;\npadding:8px 0px 10px 0;\ntext-decoration:nonefont:26px tahoma, Arial;\nbackground:nonefont:15px Myriad Pro, Arial, Helvetica, sans-serif;\nborder-bottom:1px dotted rgb(0,172,218);\nborder:none;\n}"],['.test-d1{\nfloat:left;\nwidth:971px;\nbackground:url(../images/title_bg.gif) no-repeat 27px 18pxfloat:left;\nfont:18px/20px "ZapfHumnst BT", Arial, Helvetica, sans-serif;\ncolor:rgb(48,113,3);\npadding:22px 0 8px 45pxfloat:left;\ntext-align:right;\ntext-decoration:nonecolor:rgb(48,113,3);\n}',".test-d1{\nposition: relative;\nmin-height: 1px;\npadding-right: 15px;\npadding-left: 15px;\nfloat: left;\nwidth: 25%;\n}",".test-d1{\npadding: 10px;\nbackground-color: rgb(206,43,113);\nborder-top: 1px solid rgb(206,43,113);\nborder-bottom: 1px solid rgb(206,43,113);\n}"],[".test-p1{\nwidth: 100%;\npadding: .5em 1em;\nfloat: left;\ntext-align: center;\ncolor: Chartreuse;\nfont-size: 1.8em;\nfont-weight: 300;\nline-height: 1.8em;\n}\n",".test-p1{\nborder-left: 1px solid rgb(85,43,237);\nmargin-bottom: -1px;\npadding-bottom: 1px;\nfont-size: 16px;\npadding-top: 8px;\npadding-right: 8px;\ncolor: rgb(85,43,237);\n}",".test-p1{\nbackground: blue;\nmargin: 0 0 0 43px;\npadding: 0 12px;\nfont-size: 110%;\nfont-style: italic;\nborder: 1px solid Cornsilk;\nmin-height: 38px;\ncolor: Cornsilk;\nheight: auto !important;\nline-height: 100%;\nmargin-top: 10px;\ndisplay: block;\n}"]],n=this.state.sample_count,a=[],e.t0=l.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=13;break}return r=e.t1.value,this.setState({waiting_for_api:!0}),e.next=9,this.wait(5e3*n);case 9:a.push(t[r].slice(0,n)),this.setState({waiting_for_api:!1,showing_css_options:!0,generated_css:a}),e.next=4;break;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.html,a=t.css,s=t.sample_count,o=t.showing_settings,i=t.editor_settings,l=t.showing_full_preview,c=t.generated_css,u=t.showing_css_options,g=t.showing_options_warning,h=t.showing_connection_problem,m=t.waiting_for_api,_="data:text/html;charset=utf-8,"+encodeURI("<style>"+a+"</style>"+n),d=i.theme.themes[i.theme.selected_theme],f=c.map((function(t){return r.a.createElement(H.l,null,t.map((function(t){return r.a.createElement(H.f,null,r.a.createElement(x.a,{bg:e.state.css.includes(t)?"success":"",onClick:function(){return e.select_css(t)}},r.a.createElement(x.a.Title,null,t.split("{")[0]),r.a.createElement(x.a.Body,null,t.split("{")[1].replace("}","").split(";").map((function(e){return r.a.createElement(x.a.Text,null,e)})))))})))})),y=r.a.createElement(v.a,{className:"settings-window",show:o,onClose:this.toggle_settings},r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Header,null,"Settings"),r.a.createElement(v.a.Body,null,r.a.createElement("p",null,"Editor width ",r.a.createElement("strong",null,"(",i.col_size,"/12)")),r.a.createElement("p",null,"Editor height ",r.a.createElement("strong",null,"(",2*i.height," %)")),r.a.createElement("p",null,"Editor font size ",r.a.createElement("strong",null,"(",i.font_size,")")),r.a.createElement("p",null,"Selected theme: ",r.a.createElement("strong",null,"(",d,")"))),r.a.createElement(v.a.Body,null,r.a.createElement("strong",null,"Editor Width"),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:function(){return e.change_editor_width("-")}},r.a.createElement("strong",null,"-")),r.a.createElement(E.a,{onClick:function(){return e.change_editor_width("+")}},r.a.createElement("strong",null,"+")))),r.a.createElement(v.a.Body,null,r.a.createElement("strong",null,"Editor Height"),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:function(){return e.change_editor_height("-")}},r.a.createElement("strong",null,"-")),r.a.createElement(E.a,{onClick:function(){return e.change_editor_height("+")}},r.a.createElement("strong",null,"+")))),r.a.createElement(v.a.Body,null,r.a.createElement("strong",null,"Editor Font size"),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:function(){return e.change_editor_font("-")}},r.a.createElement("strong",null,"-")),r.a.createElement(E.a,{onClick:function(){return e.change_editor_font("+")}},r.a.createElement("strong",null,"+")))),r.a.createElement(v.a.Body,null,r.a.createElement("strong",null,"Editor Theme"),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:function(){return e.change_editor_theme("<")}},r.a.createElement("strong",null,"<")),r.a.createElement(E.a,{onClick:function(){return e.change_editor_theme(">")}},r.a.createElement("strong",null,">")))))),z=r.a.createElement(H.c,{style:{width:"100%",height:"100%"}},r.a.createElement(H.d,{className:"preview-box"},r.a.createElement(H.e,null,"HTML + CSS Preview"),r.a.createElement(E.a,{onClick:this.toggle_full_preview,variant:"success",size:"sm"},"Full Preview"),r.a.createElement("iframe",{className:"preview-frame",src:_,title:"preview"}))),B=r.a.createElement(r.a.Fragment,null,r.a.createElement(H.l,{className:"height-100"},l?null:r.a.createElement(H.f,{size:this.state.editor_settings.col_size},r.a.createElement("div",{className:"ace-container"},r.a.createElement("h1",null,"HTML"),r.a.createElement(E.a,{onClick:this.generate_test_html},"Generate test HTML"),r.a.createElement(p.a,{value:this.state.html,mode:"html",theme:d,onChange:function(t){return e.setState({html:t})},name:"html-editor",showLineNumbers:!0,width:"100%",height:i.height+"vh",fontSize:i.font_size,editorProps:{$blockScrolling:!0}}),r.a.createElement("h1",null,"CSS"),r.a.createElement(E.a,{onClick:function(){e.generate_css(),window.scrollTo(0,0)},size:"sm"},"Generate CSS with GPT-2"),r.a.createElement(p.a,{value:this.state.css,mode:"css",theme:d,onChange:function(t){return e.setState({css:t})},name:"css-editor",showLineNumbers:!0,width:i.width+"%",height:i.height+"vh",fontSize:i.font_size,editorProps:{$blockScrolling:!0}}))),r.a.createElement(H.f,{size:l?12:12-this.state.editor_settings.col_size},z))),P=r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Toggle,{variant:"info",size:"sm"},"CSS samples to choose from, currently ",s),r.a.createElement(w.a.Menu,null,r.a.createElement(w.a.Item,{onClick:function(){return e.update_css_count(1)}},"1 sample for each element"),r.a.createElement(w.a.Item,{onClick:function(){return e.update_css_count(2)}},"2 samples for each element"),r.a.createElement(w.a.Item,{onClick:function(){return e.update_css_count(3)}},"3 samples for each element"))),r.a.createElement(E.a,{onClick:this.toggle_settings,variant:o?"danger":"secondary"},o?"Hide settings":"Main settings"),c.length>0?r.a.createElement(E.a,{onClick:this.toggle_css_options,variant:u?"danger":"success"},u?"Hide generated options":"Show generated options"):null,y);return r.a.createElement(H.g,{fluid:!0,className:"editor-container"},P,r.a.createElement(v.a,{show:h,onClose:function(){return e.setState({showing_connection_problem:!1})}},r.a.createElement(k.a,{style:{color:"red"}},"Failed to connect to server.. please use with test HTML"),r.a.createElement(S.a,null,r.a.createElement(E.a,{onClick:function(){e.generate_test_css(),e.setState({showing_connection_problem:!1,generated_css:[]})},variant:"warning"},"Generate Test CSS without GPT-2"))),u?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{show:g,onClose:this.toggle_warning_message},r.a.createElement(v.a.Header,{style:{color:"red"}},"Choosing a new option will overwrite any changes made in the CSS editor!")),r.a.createElement(H.g,null,r.a.createElement(H.e,null,"Click on any styling to apply it"),f)):null,m?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{type:"ThreeDots",color:"green"}),r.a.createElement("h1",null,"Takes about 20 seconds per sample generation... 5 for test"),r.a.createElement("h2",null,r.a.createElement(T.a,null,"You've been waiting for "," ",r.a.createElement(T.a.Minutes,null)," min and ",r.a.createElement(T.a.Seconds,null)," sec"))):null,B)}}]),n}(a.Component);var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},93:function(e,t,n){e.exports=n(185)},98:function(e,t,n){},99:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.cdab51de.chunk.js.map